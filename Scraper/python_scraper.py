import requests
from bs4 import BeautifulSoup
import argparse
import sys

parser = argparse.ArgumentParser(description='Scrape a page and echo selected id values.')
parser.add_argument('--page', dest='page', help='Target Page', required=True)
parser.add_argument('--tags', nargs='+', help='List ID TAGS(e.g. user pass)', required=True)

args = parser.parse_args()

r = requests.get(args.page)
if r is None:
    sys.exit('Page could not be retrieved.')

soup = BeautifulSoup(r.text, features="lxml")
for value in args.tags:
    print('TAG', value)
    if soup.find_all(id=value) is None:
        print('not found')
    else: 
        for line in soup.find_all(id=value):
            print(line.text)
    print('\n')
